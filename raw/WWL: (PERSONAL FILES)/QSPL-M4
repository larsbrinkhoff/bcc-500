.GL}"TER-MIN-AL TEM-PO-RARY SOME-WHERE RUN-TIME OTHER-WISE
.GL IN-TE-GER IN-STRUC-TION INIT-IAL-IZES GEN-ER-AL
.GL DIS-AS-TER DE-MAND DE-FAULT COM-PIL-ATION AUTO-MAT-ICAL-LY
.DEFINE FORMAT COM L(A) J(B)
AAAAAAAABBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
.END FORMAT
.UNDERLINE
6.}"/MISCELLANEOUS FUNCTIONS
.SP 2
.UNDERLINE
^UFIX,FLOAT^L
}'/TWO FUNCTIONS ARE PROVIDED FOR CONVERTING BETWEEN
INTEGER AND FLOATING POINT.
/TO CONVERT A FLOATING POINT NUMBER TO AN INTEGER BY TRUNCATION, USE
.SP
.IN 8
^CFIX(^E<EXPRESSION>) .
.SP
/TO CONVERT TO AN INTEGER BY ROUNDING, USE
.SP
.IN 8
^CFIX(X_0.5) .
.SP
/TO CONVERT AN INTEGER TO FLOATING POINT, USE
.SP
.IN 8
^CFLOAT(^E<EXPRESSION>) .
.SP 3
^I^CINITIALIZE
}'/THERE ARE THREE ARGUMENTLESS SPECIAL FUNCTIONS OF GENERAL
INTEREST.
^CINITIALIZE() INITIALIZES THE ^CQSPL STORAGE ALLOCATOR, TAKING ALL THE
SPACE BETWEEN THE CONTENTS OF ^CBSTORG AND THE END OF CORE FOR ITSELF.
}'/THE COMPILER PROVIDES AN ^CINITIALIZE AS THE FIRST INSTRUCTION
OF THE USER'S PROGRAM (I.E., IT IS AT THE TOP OF THE PROGRAM; THE
USER MAY WISH TO HAVE ONE OR MORE ENTRY POINTS TO LABELS LOWER DOWN).
/IF THE PROGRAM STARTS SOMEWHERE OTHER THAN AT THE TOP AND THUS DOES NOT
BEGIN WITH AN ^CINITIALIZE, THE USER MAY SAY ^CCALL* ^CINIT;/U
TO ^CDDT BEFORE STARTING THE PROGRAM.
/FAILING THIS, THERE WILL BE A DISASTER AS SOON AS THE PROGRAMS CALLS ON
ANY RUNTIME FEATURE.
.SP 2
.UNDERLINE
^UHALT,EXIT^L
}'/THE OTHER TWO FUNCTIONS ARE
.SP
.IN 8
^CHALT(),
.SP
WHICH HALTS, AND
.SP
.IN 8
^CEXIT(),
.SP
WHICH DOES A ^CBRS 10.
/THE COMIPLER GENERATES A ^CBRS 10 AUTOMATICALLY AT THE END OF EVERY
PROGRAM.
.SP 2
.UNDERLINE
^UBRS,SBRM,POP^L
}'/TO EXECUTE A ^CBRS, DO ^UBRS(N,A,B,X)^L WHICH SETS UP THE 
/A, /B, AND /X REGISTERS AND DOES THE ^CBRS NUMBERED /N.
/TRAILING ARGUMENTS MAY BE OMITTED, AND THE ADJACENT COMMAS MAY BE 
USED IF ONE OF THE REGISTERS DOES NOT NEED TO BE SET UP.
/IF THE ^CBRS IS EXPECTED TO SKIP, A FAILURE LOCATION MAY BE USED,
WHICH WILL BE USED IF THE ^CBRS DOES NOT SKIP.
/THE VALUE OF ^CBRS IS THE CONTENTS OF /A WHEN THE ^CBRS RETURNS: THE 
REGISTERS MAY BE SAVED BY A SAVE LIST AS FOR ORDINARY FUNCTION CALLS.
}'/TO EXECUTE A ^CSBRM DO ^USBRM(N,A,B,X)^L.
/CONVENTIONS ARE EXACTLY THE SAVE AS FOR ^CBRS.
}'/ARBITRARY MACHINE INSTRUCTIONS MAY BE GENERATED WITH 
^UPOP(OP,N,A,B,X)^L.
/THIS WORKS LIKE ^CBRS AND ^SBRM EXCEPT THAT THE OPCODE IS THE VALUE OF 
^COP, WHICH MUST BE A CONSTANT.
/THUS, ^CBRS(31,/X) AND ^CPOP(573/B,31,/X) ARE EQUIVALENT.
.EJ
^I/THE ^I/COMPILER
}'/A PROGRAM IS COMPILED WITH THE FOLLOWING SET OF TERMINAL
ACTIONS:
.SP
.NOFILL
@^CQSPL
7^/14^/69}#[THE DATE OF THE LAST ^CQSPL ASSEMBLY]
^CSOURCE ^CFILE: <FILE NAME><TERMINATING CHARACTER>
.FILL
.RM 5
[THE TERMINATING CHARACTER IS EITHER "."--ASSUME DEFAULT FILE FOR
^CBINARY AND ^CLISTING--^EOR "," OR ";"--DEMAND FURTHER FILE NAMES]
.UN 5
^CBINARY ^CFILE: <FILE NAME><TERMINATING CHARACTER>

[DEFAULT IS NOTHING--*/N]
.UN 5
^CLISTING ^CFILE: <FILE NAME> .

[DEFAULT IS NOTHING--*/N]
.EM 5
.SP 2
2 ^USEC}"1 ERRS}"243 CELLS}"(A:^LN1,/L:N2(N3),/I:N4,N5,/T:N6,/M:N7)

@
}'/THE 'N ^CERRS" DOES NOT APPEAR IF THERE WERE NO ERRORS.
/THE NUMBERS PRINTED OUTING THE COMPILATION SUMMARY HAVE THE
FOLLOWING SIGNIFICANCE:
.SP
.RM 8
.UN 8
.FORMAT COM
/A:N1,\NUMBER OF SYMBOL TABLE CELLS REMAINING AT END OF COMPILATION.
/THE SYMBOL TABLE HAS ABOUT 4900 CELLS.
/SYMBOLS TAKE 5 CELLS; CONSTANTS TAKE 4 CELLS.
.SP
.UN 8
.FORMAT COM
/L:N2\NUMBER OF LITERALS (CONSTANTS) IN THE LITERAL TABLE.
/THIS INCLUDES CONSTANTS ACTUALLY WRITTEN IN THE PROGRAM, TEMPORARY AND
FINAL VALUES OF CONSTANT EXPRESSIONS, AND OTHER COMPILER-GENERATED 
CONSTANTS SUCH AS FIELD MASKS.
.SP
.UN 8
.FORMAT COM
(N3),\NUMBER OF LITERALS WHICH WERE NEVER REFERENCED IN AN INSTRUCTION.
.SP
.UN 8
.FORMAT COM
/I-N4,\NUMBER OF INDIRECT CELLS GENERATED FOR LABELS.
.SP
.UN 8
.FORMAT COM
N5,\NUMBER OF INDIRECT CELLS GENERATED FOR ARRAYS AND FUNCTIONS.
.SP
.UN 8
.FORMAT COM
/T:N6,\TOTAL NUMBER OF ARITHMETIC TEMPORARY CELLS GENERATED.
.SP
.UN 8
.FORMAT COM
/M:N7\SMALLEST AMOUNT OF SYMBOL TABLE SPACE ENCOUNTERED AT ANY POINT 
DURING COMPILATION.
/THIS NUMBER IS SMALLER THAN THE "/A" NUMBER BY ROUGHLY THE NUMBER OF TOKENS IN
THE LONGEST STATEMENT IN THE PROGRAM.
/IT IS THE BEST MEASURE OF HOW CLOSE YOU ARE TO OVERFLOWING ^CQSPL'^ES
SYMBOL TABLE.
.FILL
.EJ
^I/THE ^I/RUNTIME
}'/A SUBSYSTEM CALLED ^CQRUN CONTAINS THE ^CQSPL RUNTIME.
/WHEN CALLED, IT PUTS THE RUNTIME CODE INTO PAGE 7 OF THE MEMORY
SPACE, READ-ONLY, AND INITIALIZES THE POP TRANSFER VECTOR IN PAGE 0.
/IT LEAVES ;/F SET AFTER ITS STORAGE AND CONVERTS ITSELF INTO ^CDDT.
/DUMPS AND CONTINUES MAY BE PERFORMED EXACTLY AS THOUGH IT WERE ^CDDT.
/THE USER MAY SET UP ^CSARRAY TO THE FIRST UNUSED CELL BEFORE CALLING
^CINIT; OTHERWISE, ^CSARRAY GETS SET TO 100/B BEYOND THE LAST NON-ZERO
WORD OF THE PROGRAM.